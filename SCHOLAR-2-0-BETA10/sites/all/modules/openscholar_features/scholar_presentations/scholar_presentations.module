<?php

include_once('scholar_presentations.features.inc');

/**
 * Implementation of hook_init().
 */
function scholar_presentations_init() {
  drupal_add_css(drupal_get_path('module', 'scholar_presentations') .'/theme/scholar_presentations.css');
}

/**
 * Implementation of hook_vsite_widgets()
 */
function scholar_presentations_vsite_widgets(){
  $items = array();
  $items['views_scholar_presentations-block_1'] = array(
        'module' => 'views',
        'delta' => 'scholar_presentations-block_1',
        'weight' => 10,
        'region' => false,
        'status' => '0',
        'label' => 'Recent Presentations',
        'type' => 'context_ui',
      );

      return $items;
}

/**
 * Implementation of hook_strongarm()
 */
function scholar_presentations_strongarm(){
  $conf = array();

  // Disable preview button
  $conf["show_preview_changes_presentation"] = FALSE;
  $conf["show_diff_inline_presentation"] = FALSE;

  $conf['node_options_presentation'] = array('status', 'revision');
  $conf['upload_presentation'] = FALSE;

  // Comments
  $conf['comment_presentation'] = COMMENT_NODE_DISABLED;

  // Pathauto (optional) settings
  $conf["pathauto_node_presentation_pattern"] = "[space-og-path]/presentations/[title-raw]";

  // submitted info
  $conf['node_submitted_info_presentation'] = TRUE;
  
  $conf['nodeformscols_field_placements_presentation_default'] = unserialize('a:15:{s:5:"title";a:4:{s:6:"region";s:4:"main";s:6:"weight";s:2:"-5";s:12:"has_required";b:1;s:5:"title";s:5:"Title";}s:10:"body_field";a:5:{s:6:"region";s:4:"main";s:6:"weight";s:5:"0.008";s:12:"has_required";b:0;s:5:"title";N;s:6:"hidden";i:0;}s:4:"menu";a:6:{s:6:"region";s:5:"right";s:6:"weight";s:1:"0";s:12:"has_required";b:0;s:5:"title";s:13:"Menu settings";s:9:"collapsed";i:1;s:6:"hidden";i:0;}s:20:"revision_information";a:3:{s:6:"region";s:5:"right";s:6:"weight";s:1:"1";s:6:"hidden";i:0;}s:16:"comment_settings";a:6:{s:6:"region";s:5:"right";s:6:"weight";s:1:"5";s:12:"has_required";b:0;s:5:"title";s:16:"Comment settings";s:9:"collapsed";i:1;s:6:"hidden";i:0;}s:4:"path";a:6:{s:6:"region";s:5:"right";s:6:"weight";s:1:"4";s:12:"has_required";b:0;s:5:"title";s:17:"URL path settings";s:9:"collapsed";i:1;s:6:"hidden";i:0;}s:7:"options";a:6:{s:6:"region";s:5:"right";s:6:"weight";s:1:"3";s:12:"has_required";b:0;s:5:"title";s:18:"Publishing options";s:9:"collapsed";i:1;s:6:"hidden";i:0;}s:6:"author";a:6:{s:6:"region";s:5:"right";s:6:"weight";s:1:"2";s:12:"has_required";b:0;s:5:"title";s:21:"Authoring information";s:9:"collapsed";i:1;s:6:"hidden";i:0;}s:7:"buttons";a:5:{s:6:"region";s:4:"main";s:6:"weight";s:3:"100";s:12:"has_required";b:0;s:5:"title";N;s:6:"hidden";i:0;}s:4:"book";a:6:{s:6:"region";s:5:"right";s:6:"weight";s:2:"10";s:12:"has_required";b:0;s:5:"title";s:12:"Book outline";s:9:"collapsed";i:1;s:6:"hidden";i:0;}s:23:"field_presentation_date";a:5:{s:6:"region";s:4:"main";s:6:"weight";s:2:"-3";s:12:"has_required";b:0;s:5:"title";s:17:"Presentation Date";s:6:"hidden";i:0;}s:27:"field_presentation_location";a:5:{s:6:"region";s:4:"main";s:6:"weight";s:2:"-2";s:12:"has_required";b:0;s:5:"title";s:8:"Location";s:6:"hidden";i:0;}s:23:"field_presentation_file";a:5:{s:6:"region";s:4:"main";s:6:"weight";s:1:"0";s:12:"has_required";b:0;s:5:"title";s:18:"Presentation Files";s:6:"hidden";i:0;}s:10:"og_nodeapi";a:6:{s:6:"region";s:4:"main";s:6:"weight";s:1:"0";s:12:"has_required";b:0;s:5:"title";s:9:"Web Sites";s:9:"collapsed";i:0;s:6:"hidden";i:0;}s:11:"attachments";a:5:{s:6:"region";s:4:"main";s:6:"weight";s:5:"0.024";s:12:"has_required";b:0;s:5:"title";s:33:"Attach files to this presentation";s:6:"hidden";i:0;}}');

  return $conf;
}